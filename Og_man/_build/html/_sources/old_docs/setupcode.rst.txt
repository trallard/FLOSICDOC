.. _setupcode:

==============================
Compiling the code.
==============================




Once you have procured the code from repository. Go to the directory containing sources and edit makefile to suite for your platform.
A number of routines in NRLMOL were written in mid and late eighties and require static allocation of arrays. 
The code needs to compiled for appropriate array sizes for the system under study. These parameters are listed in file called **PARAMS**. Please change them to your needs and compile the code by typing **make** at the command line. 

   
    #. To compile serial version uncomment the line 

       ./condcomp  < $*.ftn > $*.f
    
    #. To compile MPI version uncomment the line 
       ./condcomp -DMPI  < $*.ftn > $*.f

    #. To compile MPI with SCALAPACK uncomment the line 
       ./condcomp -DMPI -DSCALAPCK < $*.ftn > $*.f

If you are a beginner, he serial option is probably the best for you. 
*TIP*  You will need the BLAS and LAPACK to compile the code. It is highly recommended that you use optimized BLAS and LPACK libraries 
if they are available to you. Examples of these are vendor provided libraries, e.g. MKL libraries by Intel or GotoBLAS library.
In the limited set of tests, it was found that the performance of the code is best with MKL libraries.  However linking 
MKL libraries can be difficult. Use the examples from the Makefile.

 
An example **PARAMS** file containing parameters used is listed below for your convenience with explanation of parameters.


.. literalinclude:: input_files/PARAMS.std




