
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Setting up perturbative Delta SCF calculation with previous versions of NRLMOL &#8212; NRLMOL  0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../nrlmoldoc_main.html">NRLMOL  0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-perturbative-delta-scf-calculation-with-previous-versions-of-nrlmol">
<span id="setupexc"></span><h1>Setting up perturbative Delta SCF calculation with previous versions of NRLMOL<a class="headerlink" href="#setting-up-perturbative-delta-scf-calculation-with-previous-versions-of-nrlmol" title="Permalink to this headline">¶</a></h1>
<p>Running excited state calculations using perturbative delta SCF method.
This is not automated yet so use the following guidelines to run the excited states calculations. The method works well
for the charge transfer excited states.
It is a perturbation approach, so the first step is to carry out the ground state SCF.
Run a spin-polarized ground state calculation for a chosen system without using any
point group symmetry.
Each excited state calculation is done in a separate directory.
Use the following procedure to run the excited state calculations.</p>
<blockquote>
<div><ol class="arabic">
<li><p>Make a directory, say <em>EXCITED1</em> and copy the following files from the directory where the  ground state calculations were performed to the excited state directory:
SYMBOL,  GRPMAT, ISYMGEN, HAMOLD, REPMAT, VMOLD.</p></li>
<li><p>Create RUNS file.
Your RUNS file for the excited state calculation should be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">-</span><span class="mi">1</span>     <span class="n">N</span>            <span class="n">ITBEG</span><span class="p">,</span> <span class="n">NCALC</span>
     <span class="mi">1</span>     <span class="mi">4</span>            <span class="n">START</span><span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="n">SCR</span><span class="o">.</span><span class="n">NUC</span><span class="p">,</span> <span class="mi">1</span><span class="o">=</span><span class="n">HAM</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="n">POT</span><span class="p">,</span> <span class="mi">3</span><span class="o">=</span><span class="n">LSF</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="n">WFUNC</span>
     <span class="mi">0</span>                  <span class="n">START</span> <span class="n">HAMILTONIAN</span> <span class="n">IS</span> <span class="n">INTERPOLATED</span><span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="n">NO</span><span class="p">,</span> <span class="mi">1</span><span class="o">=</span><span class="n">YES</span>
</pre></div>
</div>
<p>where, <em>N</em> is the geometry number of the corresponding geometry in <strong>SYMBOL</strong>. “-1” option allows previously generated mesh;
if, for some reason, this does not work, then set it to “1” and rerun. <strong>WARNING</strong> Most of the problems/errors with excited
states calculation are due to use of different geometries in the excited state and the ground state. So please ensure that
you use correct geometry:- the second field in the top line of the <strong>RUNS</strong> file.
Also, for the excited state calculation with perturbative delta SCF method, you always start with Hamiltonian.</p>
</li>
<li><p>Run the command  “$  echo “.TRUE.” &gt; RUNTYPE</p></li>
<li><p>Next create a file called <strong>OCCEXC</strong> with required occupation numbers. (No blank lines).
An example <em>OCCEXC</em> for the water molecule (H2O) is given below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">1</span>      <span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">excited</span> <span class="n">states</span> <span class="n">to</span> <span class="n">be</span> <span class="n">calculated</span><span class="o">.</span> <span class="n">For</span> <span class="n">starter</span> <span class="n">keep</span> <span class="n">it</span> <span class="mf">1.</span>
 <span class="o">-</span><span class="mf">76.387242322234</span><span class="n">A</span>     <span class="p">:</span> <span class="n">Ground</span> <span class="n">state</span> <span class="n">SCF</span> <span class="n">energy</span>
<span class="mi">1</span> <span class="mi">5</span>                    <span class="p">:</span> <span class="n">Spin</span> <span class="ow">and</span> <span class="n">state</span> <span class="n">indices</span> <span class="k">for</span> <span class="n">the</span> <span class="n">hole</span>
<span class="mi">2</span> <span class="mi">6</span>                    <span class="p">:</span> <span class="n">SPin</span> <span class="ow">and</span> <span class="n">state</span> <span class="n">indices</span> <span class="k">for</span> <span class="n">the</span> <span class="n">particle</span>
<span class="mi">5</span>                      <span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">GS</span> <span class="n">occupied</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>              <span class="p">:</span> <span class="n">GS</span> <span class="n">occupancy</span> <span class="n">of</span> <span class="n">the</span> <span class="n">states</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">1</span>
<span class="mi">5</span>                      <span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">GS</span> <span class="n">occupied</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">2</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>              <span class="p">:</span> <span class="n">GS</span> <span class="n">occupancy</span> <span class="n">of</span> <span class="n">the</span> <span class="n">states</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">2</span>
<span class="mi">5</span>                      <span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">excited</span> <span class="n">occupied</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">1</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>              <span class="p">:</span> <span class="n">occupancy</span> <span class="n">of</span> <span class="n">the</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">excited</span> <span class="n">state</span>
<span class="mi">6</span>                      <span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">excited</span> <span class="n">occupied</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">2</span>
<span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>            <span class="p">:</span> <span class="n">occupancy</span> <span class="n">of</span> <span class="n">the</span> <span class="n">orbitals</span> <span class="n">of</span> <span class="n">spin</span> <span class="mi">2</span> <span class="ow">in</span> <span class="n">excited</span> <span class="n">state</span>
</pre></div>
</div>
</li>
<li><p>Compile the NRLMOL for the excited states. Your executable for the ground state may not work as the parameters
are different for the excited states. When compiled, copy the executable here and submit the job.</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt><strong>TIP</strong> The memory demand for the excited state calculation is much larger than the ground state as both the ground</dt><dd><p>and excited state Hamiltonians are required. If your calculations run out of memory, one possibility is to use fewer cores
per node in a parallel job.</p>
</dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/old_docs/NRLMOL_excinput_guidelines.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../nrlmoldoc_main.html">NRLMOL  0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013,   NRLMOL users .
    </div>
  </body>
</html>